import{useRef as n,useEffect as e}from"react";var t=function(n){return document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY},r=function(n){return!(!n.includes("touch")||!function(){if("undefined"==typeof window||"function"!=typeof window.addEventListener)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}}),t=function(){return null};return window.addEventListener("test",t,e),window.removeEventListener("test",t,e),n}())&&{passive:!0}};export default function(i,o){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=u.disabled,d=void 0!==c&&c,f=u.eventTypes,a=void 0===f?["mousedown","touchstart"]:f,v=u.excludeScrollbar,s=void 0!==v&&v;if("undefined"!=typeof document){var l=n(null);e((function(){l.current=o}),[o]),e((function(){if(i&&l.current){var n=function(n){var e=Array.isArray(i)?i:[i],r=[];e.forEach((function(n){var e=n.current;e&&r.push(e)})),r.length&&(s&&t(n)||r.every((function(e){return!e.contains(n.target)}))&&l.current(n))},e=function(){a.forEach((function(e){document.removeEventListener(e,n,r(e))}))};if(!d)return a.forEach((function(e){document.addEventListener(e,n,r(e))})),function(){e()};e()}}),[i,s,d,a])}}
