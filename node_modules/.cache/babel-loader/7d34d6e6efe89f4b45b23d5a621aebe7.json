{"ast":null,"code":"var _jsxFileName = \"/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/auth/signup-form.js\";\nimport React, { Component } from \"react\";\nimport ValidationHoc from \"../../hoc/validationHoc\";\nimport BlurBackgroundHoc from \"../../hoc/blurBackgroundHoc\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { reqSignUp } from \"../../api/api\";\nimport { withRouter } from \"react-router-dom\";\nimport facebookIcon from \"../../assets/facebook.png\";\nimport googleIcon from \"../../assets/google.png\";\nimport InputComponent from \"../../hoc/inputComponent\";\nimport { deleteLastSubPath } from \"../../utils/path-generator\";\nimport \"./auth.scss\"; // TODO @SONIA\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = async () => {\n      const {\n        pathname\n      } = this.props.history.location;\n\n      if (await this.props.okToSubmit()) {\n        try {\n          const result = await reqSignUp(this.props.values);\n\n          if (result.status === 201) {\n            this.props.history.push(`${deleteLastSubPath(pathname)}/login`, {\n              signupValues: this.props.values\n            });\n          }\n        } catch (error) {\n          alert(error.response.data);\n\n          if (error.response.status === 400) {\n            this.props.history.push(`${deleteLastSubPath(pathname)}/login`, {\n              signupValues: {\n                email: this.props.values.email\n              }\n            });\n          }\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.blurBackground();\n  }\n\n  componentWillUnmount() {\n    this.props.resetBackground();\n  }\n\n  render() {\n    const {\n      pathname\n    } = this.props.history.location;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container--not-blured\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"auth-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Join us\", React.createElement(FontAwesomeIcon, {\n      icon: faWindowClose,\n      className: \"button-close\",\n      onClick: () => {\n        this.props.history.push(deleteLastSubPath(pathname));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"auth-form__content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(InputComponent, Object.assign({}, this.props, {\n      title: \"Email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(InputComponent, Object.assign({}, this.props, {\n      title: \"Password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(InputComponent, Object.assign({}, this.props, {\n      title: \"Username\",\n      name: \"username\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(InputComponent, Object.assign({}, this.props, {\n      title: \"Age\",\n      name: \"age\",\n      placeholder: \"Age\",\n      type: \"number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"bottom-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Join Airtasker\")), React.createElement(\"div\", {\n      className: \"seperator-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"or sign up with\"), React.createElement(\"div\", {\n      className: \"bottom-buttons bottom-buttons--social-media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: facebookIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), \"Facebook\"), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: googleIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), \"Google\")), React.createElement(\"div\", {\n      className: \"auth-form__bottom-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Already have an account?\", React.createElement(\"button\", {\n      className: \"blue-link\",\n      onClick: () => {\n        this.props.history.push(`${deleteLastSubPath(pathname)}/login`);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Log in\")))));\n  }\n\n}\n\nexport default BlurBackgroundHoc(ValidationHoc(withRouter(SignUpForm), ['email', 'password', 'username', 'age']));","map":{"version":3,"sources":["/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/auth/signup-form.js"],"names":["React","Component","ValidationHoc","BlurBackgroundHoc","FontAwesomeIcon","faWindowClose","reqSignUp","withRouter","facebookIcon","googleIcon","InputComponent","deleteLastSubPath","SignUpForm","constructor","props","handleSubmit","pathname","history","location","okToSubmit","result","values","status","push","signupValues","error","alert","response","data","email","componentDidMount","blurBackground","componentWillUnmount","resetBackground","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ValidationHoc from \"../../hoc/validationHoc\";\nimport BlurBackgroundHoc from \"../../hoc/blurBackgroundHoc\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport { reqSignUp } from \"../../api/api\";\nimport { withRouter } from \"react-router-dom\";\nimport facebookIcon from \"../../assets/facebook.png\";\nimport googleIcon from \"../../assets/google.png\";\nimport InputComponent from \"../../hoc/inputComponent\";\nimport { deleteLastSubPath } from \"../../utils/path-generator\"\nimport \"./auth.scss\"\n// TODO @SONIA\n\nclass SignUpForm extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    this.props.blurBackground();\n\n  }\n  componentWillUnmount() {\n    this.props.resetBackground();\n  }\n\n  handleSubmit = async () => {\n    const { pathname } = this.props.history.location;\n    if (await this.props.okToSubmit()) {\n      try {\n        const result = await reqSignUp(this.props.values);\n        if (result.status === 201) {\n          this.props.history.push(\n            `${deleteLastSubPath(pathname)}/login`,\n            { signupValues: this.props.values }\n          );\n        }\n      } catch (error) {\n        alert(error.response.data);\n        if (error.response.status === 400) {\n          this.props.history.push(\n            `${deleteLastSubPath(pathname)}/login`,\n            { signupValues: { email: this.props.values.email } }\n          );\n        }\n      }\n    }\n  }\n\n  render() {\n    const { pathname } = this.props.history.location;\n    return (\n      <div className=\"container\">\n        <div className=\"container--not-blured\">\n          <div className=\"auth-form\">\n            <div className=\"form__header\">\n              <div>\n                Join us\n                <FontAwesomeIcon icon={faWindowClose} className=\"button-close\"\n                  onClick={() => {\n                    this.props.history.push(deleteLastSubPath(pathname))\n                  }} />\n              </div>\n            </div>\n            <div className=\"auth-form__content\">\n              <InputComponent {...this.props} title=\"Email\" name=\"email\" placeholder=\"Email\" />\n              <InputComponent {...this.props} title=\"Password\" name=\"password\" placeholder=\"Password\" type=\"password\" />\n              <div>\n                <InputComponent {...this.props} title=\"Username\" name=\"username\" placeholder=\"Username\" />\n                <InputComponent {...this.props} title=\"Age\" name=\"age\" placeholder=\"Age\" type=\"number\" />\n              </div>\n            </div>\n\n            <div className=\"bottom-buttons\">\n              <button onClick={this.handleSubmit}>\n                Join Airtasker\n              </button>\n            </div>\n\n            <div className=\"seperator-wrapper\">or sign up with</div>\n\n            <div className=\"bottom-buttons bottom-buttons--social-media\">\n              <button><img src={facebookIcon} />Facebook</button>\n              <button><img src={googleIcon} />Google</button>\n            </div>\n\n            <div className=\"auth-form__bottom-section\">\n              Already have an account?\n            <button className=\"blue-link\"\n                onClick={() => {\n                  this.props.history.push(`${deleteLastSubPath(pathname)}/login`);\n                }}>\n                Log in\n            </button>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BlurBackgroundHoc(ValidationHoc(withRouter(SignUpForm), ['email', 'password', 'username', 'age']));"]},"metadata":{},"sourceType":"module"}