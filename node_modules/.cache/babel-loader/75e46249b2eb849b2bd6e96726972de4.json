{"ast":null,"code":"var _jsxFileName = \"/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/browse-tasks/task-menu/auto-complete.js\";\nimport React, { useRef } from 'react';\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport useOnclickOutside from 'react-cool-onclickoutside';\nimport \"./task-menu.scss\";\n\nconst InputAuto = () => {\n  //const inputV = document.querySelector(\"location--typehead--search\").value; \n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      input: document.querySelector(\"location--typehead--search\").value\n    },\n    debounce: 300\n  });\n  const ref = useRef();\n  useOnclickOutside(ref, () => {\n    // When user clicks outside of the component, we can dismiss\n    // the searched suggestions by calling this method\n    clearSuggestions();\n  });\n\n  const handleInput = e => {\n    // Update the keyword of the input element\n    setValue(e.target.value);\n  };\n\n  const handleSelect = ({\n    description\n  }) => () => {\n    // When user selects a place, we can replace the keyword without request data from API\n    // by setting the second parameter as \"false\"\n    setValue(description, false);\n    clearSuggestions(); // Get latitude and longitude via utility functions\n\n    getGeocode({\n      address: description\n    }).then(results => getLatLng(results[0])).then(({\n      lat,\n      lng\n    }) => {\n      console.log('ðŸ“ Coordinates: ', {\n        lat,\n        lng\n      });\n    }).catch(error => {\n      console.log('ðŸ˜± Error: ', error);\n    });\n  };\n\n  const renderSuggestions = () => data.map(suggestion => {\n    const {\n      id,\n      structured_formatting: {\n        main_text,\n        secondary_text\n      }\n    } = suggestion;\n    return React.createElement(\"li\", {\n      key: id,\n      onClick: handleSelect(suggestion),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, main_text), \" \", React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, secondary_text));\n  });\n\n  return React.createElement(\"div\", {\n    ref: ref,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"location--typehead--search\",\n    value: value,\n    onChange: handleInput,\n    disabled: !ready,\n    placeholder: \"Where are you going?\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), status === 'OK' && React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, renderSuggestions()));\n};\n\nexport default InputAuto;","map":{"version":3,"sources":["/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/browse-tasks/task-menu/auto-complete.js"],"names":["React","useRef","usePlacesAutocomplete","getGeocode","getLatLng","useOnclickOutside","InputAuto","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","input","document","querySelector","debounce","ref","handleInput","e","target","handleSelect","description","address","then","results","lat","lng","console","log","catch","error","renderSuggestions","map","suggestion","id","structured_formatting","main_text","secondary_text"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,qBAAP,IAAgCC,UAAhC,EAA4CC,SAA5C,QAA6D,yBAA7D;AACA,OAAOC,iBAAP,MAA8B,2BAA9B;AACA,OAAO,kBAAP;;AACA,MAAMC,SAAS,GAAG,MAAM;AACtB;AACA,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAHT;AAIJC,IAAAA,QAJI;AAKJC,IAAAA;AALI,MAMFX,qBAAqB,CAAC;AACxBY,IAAAA,cAAc,EAAE;AAACC,MAAAA,KAAK,EAACC,QAAQ,CAACC,aAAT,CAAuB,4BAAvB,EAAqDT;AAA5D,KADQ;AAExBU,IAAAA,QAAQ,EAAE;AAFc,GAAD,CANzB;AAUA,QAAMC,GAAG,GAAGlB,MAAM,EAAlB;AACAI,EAAAA,iBAAiB,CAACc,GAAD,EAAM,MAAM;AAC3B;AACA;AACAN,IAAAA,gBAAgB;AACjB,GAJgB,CAAjB;;AAMA,QAAMO,WAAW,GAAGC,CAAC,IAAI;AACvB;AACAT,IAAAA,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASd,KAAV,CAAR;AACD,GAHD;;AAKA,QAAMe,YAAY,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAqB,MAAM;AAC9C;AACA;AACAZ,IAAAA,QAAQ,CAACY,WAAD,EAAc,KAAd,CAAR;AACAX,IAAAA,gBAAgB,GAJ8B,CAM9C;;AACAV,IAAAA,UAAU,CAAC;AAAEsB,MAAAA,OAAO,EAAED;AAAX,KAAD,CAAV,CACGE,IADH,CACQC,OAAO,IAAIvB,SAAS,CAACuB,OAAO,CAAC,CAAD,CAAR,CAD5B,EAEGD,IAFH,CAEQ,CAAC;AAAEE,MAAAA,GAAF;AAAOC,MAAAA;AAAP,KAAD,KAAkB;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgC;AAAEH,QAAAA,GAAF;AAAOC,QAAAA;AAAP,OAAhC;AACD,KAJH,EAIKG,KAJL,CAIWC,KAAK,IAAI;AAChBH,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BE,KAA1B;AACD,KANH;AAOD,GAdD;;AAgBA,QAAMC,iBAAiB,GAAG,MACxBvB,IAAI,CAACwB,GAAL,CAASC,UAAU,IAAI;AACrB,UAAM;AACJC,MAAAA,EADI;AAEJC,MAAAA,qBAAqB,EAAE;AAAEC,QAAAA,SAAF;AAAaC,QAAAA;AAAb;AAFnB,QAGFJ,UAHJ;AAKA,WACE;AACE,MAAA,GAAG,EAAEC,EADP;AAEE,MAAA,OAAO,EAAEd,YAAY,CAACa,UAAD,CAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAASG,SAAT,CAJF,OAI+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAQC,cAAR,CAJ/B,CADF;AAQD,GAdD,CADF;;AAiBA,SACE;AAAK,IAAA,GAAG,EAAErB,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,4BADZ;AAEE,IAAA,KAAK,EAAEX,KAFT;AAGE,IAAA,QAAQ,EAAEY,WAHZ;AAIE,IAAA,QAAQ,EAAE,CAACb,KAJb;AAKE,IAAA,WAAW,EAAC,sBALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASGG,MAAM,KAAK,IAAX,IAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKwB,iBAAiB,EAAtB,CATtB,CADF;AAaD,CAtED;;AAuEA,eAAe5B,SAAf","sourcesContent":["import React, { useRef } from 'react';\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport useOnclickOutside from 'react-cool-onclickoutside';\nimport \"./task-menu.scss\";\nconst InputAuto = () => {\n  //const inputV = document.querySelector(\"location--typehead--search\").value; \n  const {\n    ready,\n    value,\n    suggestions: { status, data },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {input:document.querySelector(\"location--typehead--search\").value },\n    debounce: 300\n  });\n  const ref = useRef();\n  useOnclickOutside(ref, () => {\n    // When user clicks outside of the component, we can dismiss\n    // the searched suggestions by calling this method\n    clearSuggestions();\n  });\n\n  const handleInput = e => {\n    // Update the keyword of the input element\n    setValue(e.target.value);\n  };\n\n  const handleSelect = ({ description }) => () => {\n    // When user selects a place, we can replace the keyword without request data from API\n    // by setting the second parameter as \"false\"\n    setValue(description, false);\n    clearSuggestions();\n\n    // Get latitude and longitude via utility functions\n    getGeocode({ address: description })\n      .then(results => getLatLng(results[0]))\n      .then(({ lat, lng }) => {\n        console.log('ðŸ“ Coordinates: ', { lat, lng });\n      }).catch(error => {\n        console.log('ðŸ˜± Error: ', error)\n      });\n  };\n\n  const renderSuggestions = () =>\n    data.map(suggestion => {\n      const {\n        id,\n        structured_formatting: { main_text, secondary_text }\n      } = suggestion;\n\n      return (\n        <li\n          key={id}\n          onClick={handleSelect(suggestion)}\n        >\n          <strong>{main_text}</strong> <small>{secondary_text}</small>\n        </li>\n      );\n    });\n\n  return (\n    <div ref={ref}>\n      <input\n        className=\"location--typehead--search\"\n        value={value}\n        onChange={handleInput}\n        disabled={!ready}\n        placeholder=\"Where are you going?\"\n      />\n      {/* We can use the \"status\" to decide whether we should display the dropdown or not */}\n      {status === 'OK' && <ul>{renderSuggestions()}</ul>}\n    </div>\n  );\n};\nexport default InputAuto;"]},"metadata":{},"sourceType":"module"}