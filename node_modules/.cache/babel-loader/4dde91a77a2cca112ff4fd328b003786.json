{"ast":null,"code":"var _jsxFileName = \"/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/make-an-offer/make-an-offer.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BlurBackgroundHoc from \"../../hoc/blurBackgroundHoc\";\nimport ValidationHoc from \"../../hoc/validationHoc\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport PersonalInfoCheck from \"./subpages/personal-info-check/personal-info-check\";\nimport PriceStatement from \"./subpages/price-statement\";\nimport OfferPreview from \"./subpages/offer-preview\";\nimport IntroMessage from \"./subpages/intro-message\";\nimport { reqUserInfo } from \"../../api/api\";\nimport { checkUser } from \"../../redux/actions\";\nimport { reqMakeOffer } from \"../../api/api\";\nimport \"./make-an-offer.scss\"; // TOTEST: reqUserInfo\n// TODO @SONIA\n\nclass MakeAnOffer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateValidFields = userInfo => {\n      let validFields = [];\n\n      if (Object.keys(userInfo).length > 0) {\n        userInfo.photo && validFields.push('photo');\n        userInfo.bankDetail && Object.keys(userInfo.bankDetail).length > 0 && validFields.push('bankDetail');\n        userInfo.billingAddr && Object.keys(userInfo.billingAddr).length > 0 && validFields.push('billingAddr');\n        userInfo.dateOfBirth && validFields.push('dateOfBirth');\n        userInfo.mobileNumber && validFields.push('mobileNumber');\n      }\n\n      return validFields;\n    };\n\n    this.state = {\n      pageNum: 0,\n      pageMovementDirection: ''\n    };\n  }\n\n  async componentDidMount() {\n    this.props.blurBackground();\n    let validFields = [];\n\n    try {\n      const result = await reqUserInfo(this.props.user.email);\n\n      if (result.status === 200) {\n        validFields = this.updateValidFields(result.data);\n      }\n    } catch (error) {\n      alert('Failed to request user information.');\n    }\n\n    if (validFields.length === 5) {\n      this.setState({\n        pageNum: 2\n      });\n    } else {\n      this.setState({\n        pageNum: 1\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!this.props.offerDetail.offerData) {\n      ////\n      if (JSON.stringify(prevProps) !== JSON.stringify(this.props)) {\n        this.setState({\n          pageNum: this.props.user.readyToBid ? 2 : 1\n        });\n      }\n\n      if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\n        if (this.props.user.readyToBid && this.state.pageNum === 1) {\n          this.setState({\n            pageNum: 2\n          });\n        }\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.resetBackground();\n  }\n\n  render() {\n    let path = this.props.history.location.pathname;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container--not-blured\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"offer-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form__header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.pageNum === 1 && 'To start making money', this.state.pageNum === 2 && 'Make an Offer', this.state.pageNum === 3 && 'Make an Offer', this.state.pageNum === 4 && 'Preview Offer', React.createElement(FontAwesomeIcon, {\n      icon: faWindowClose,\n      className: \"button-close\",\n      onClick: () => {\n        this.props.history.goBack();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), this.state.pageNum === 1 && React.createElement(\"div\", {\n      className: `form__content ${this.state.pageMovementDirection}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(PersonalInfoCheck, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), this.state.pageNum === 2 && React.createElement(\"div\", {\n      className: `form__content ${this.state.pageMovementDirection}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(PriceStatement, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), this.state.pageNum === 3 && React.createElement(\"div\", {\n      className: `form__content ${this.state.pageMovementDirection}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(IntroMessage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), this.state.pageNum === 4 && React.createElement(\"div\", {\n      className: `form__content ${this.state.pageMovementDirection}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(OfferPreview, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), this.state.pageNum !== 1 && React.createElement(\"div\", {\n      className: \"bottom-buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.pageNum > 2 && React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          pageNum: this.state.pageNum - 1,\n          pageMovementDirection: 'backward-movement'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \" Before \"), this.state.pageNum < 4 ? React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          pageNum: this.state.pageNum + 1,\n          pageMovementDirection: 'forward-movement'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \" Next \") : React.createElement(\"button\", {\n      onClick: async () => {\n        try {\n          const offerData = {\n            taskId: this.props.match.params.id,\n            ...this.props.offerDetail.offerData\n          };\n          const result = await reqMakeOffer(this.props.user.email, offerData);\n\n          if (result.status === 200) {\n            alert('Succeed to make an offer!');\n          }\n        } catch (e) {\n          alert('Failed to make an offer!');\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \" Submit offer \")))));\n  }\n\n}\n\nexport default connect(state => ({\n  user: state.user,\n  offerDetail: state.offerDetail\n}), {\n  checkUser\n})(withRouter(BlurBackgroundHoc(MakeAnOffer)));","map":{"version":3,"sources":["/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/make-an-offer/make-an-offer.js"],"names":["React","Component","withRouter","connect","BlurBackgroundHoc","ValidationHoc","FontAwesomeIcon","faWindowClose","PersonalInfoCheck","PriceStatement","OfferPreview","IntroMessage","reqUserInfo","checkUser","reqMakeOffer","MakeAnOffer","constructor","props","updateValidFields","userInfo","validFields","Object","keys","length","photo","push","bankDetail","billingAddr","dateOfBirth","mobileNumber","state","pageNum","pageMovementDirection","componentDidMount","blurBackground","result","user","email","status","data","error","alert","setState","componentDidUpdate","prevProps","prevState","offerDetail","offerData","JSON","stringify","readyToBid","componentWillUnmount","resetBackground","render","path","history","location","pathname","goBack","taskId","match","params","id","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BlurBackgroundHoc from \"../../hoc/blurBackgroundHoc\";\nimport ValidationHoc from \"../../hoc/validationHoc\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faWindowClose } from \"@fortawesome/free-solid-svg-icons\";\nimport PersonalInfoCheck from \"./subpages/personal-info-check/personal-info-check\";\nimport PriceStatement from \"./subpages/price-statement\";\nimport OfferPreview from \"./subpages/offer-preview\";\nimport IntroMessage from \"./subpages/intro-message\";\nimport { reqUserInfo } from \"../../api/api\"\nimport { checkUser } from \"../../redux/actions\"\nimport { reqMakeOffer } from \"../../api/api\"\nimport \"./make-an-offer.scss\"\n// TOTEST: reqUserInfo\n// TODO @SONIA\nclass MakeAnOffer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            pageNum: 0,\n            pageMovementDirection: ''\n        }\n    }\n\n    updateValidFields = (userInfo) => {\n        let validFields = [];\n        if (Object.keys(userInfo).length > 0) {\n            userInfo.photo && validFields.push('photo');\n            userInfo.bankDetail && Object.keys(userInfo.bankDetail).length > 0 && validFields.push('bankDetail');\n            userInfo.billingAddr && Object.keys(userInfo.billingAddr).length > 0 && validFields.push('billingAddr');\n            userInfo.dateOfBirth && validFields.push('dateOfBirth');\n            userInfo.mobileNumber && validFields.push('mobileNumber')\n        }\n        return validFields;\n    }\n\n    async componentDidMount() {\n        this.props.blurBackground();\n        let validFields = [];\n        try {\n            const result = await reqUserInfo(this.props.user.email);\n            if (result.status === 200) {\n                validFields = this.updateValidFields(result.data);\n            }\n        } catch (error) {\n            alert('Failed to request user information.');\n        }\n        if (validFields.length === 5) {\n            this.setState({ pageNum: 2 })\n        } else {\n            this.setState({ pageNum: 1 })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (!this.props.offerDetail.offerData) { ////\n            if (JSON.stringify(prevProps) !== JSON.stringify(this.props)) {\n                this.setState({ pageNum: this.props.user.readyToBid ? 2 : 1 })\n            }\n            if (JSON.stringify(prevState) !== JSON.stringify(this.state)) {\n                if (this.props.user.readyToBid && this.state.pageNum === 1) {\n                    this.setState({ pageNum: 2 })\n                }\n            }\n        }\n\n    }\n    componentWillUnmount() {\n        this.props.resetBackground();\n    }\n    render() {\n        let path = this.props.history.location.pathname;\n        return (\n            <div className=\"container\">\n                <div className=\"container--not-blured\">\n                    <div className=\"offer-form\">\n                        <div className=\"form__header\">\n                            <div>\n                                {this.state.pageNum === 1 && 'To start making money'}\n                                {this.state.pageNum === 2 && 'Make an Offer'}\n                                {this.state.pageNum === 3 && 'Make an Offer'}\n                                {this.state.pageNum === 4 && 'Preview Offer'}\n                                <FontAwesomeIcon icon={faWindowClose} className=\"button-close\" onClick={() => { this.props.history.goBack() }} />\n                            </div>\n                        </div>\n\n                        {/* 不能把 <div className={`form__content ${this.state.pageMovementDirection}`}></div> 放外面，不然只会重新渲染里面的东西 */}\n                        {this.state.pageNum === 1 &&\n                            <div className={`form__content ${this.state.pageMovementDirection}`}><PersonalInfoCheck /></div>}\n                        {this.state.pageNum === 2 &&\n                            <div className={`form__content ${this.state.pageMovementDirection}`}><PriceStatement /></div>}\n                        {this.state.pageNum === 3 &&\n                            <div className={`form__content ${this.state.pageMovementDirection}`}><IntroMessage /></div>}\n                        {this.state.pageNum === 4 &&\n                            <div className={`form__content ${this.state.pageMovementDirection}`}><OfferPreview /></div>}\n\n\n                        {this.state.pageNum !== 1 &&\n                            <div className=\"bottom-buttons\">\n                                {this.state.pageNum > 2\n                                    &&\n                                    <button onClick={() => {\n                                        this.setState({ pageNum: this.state.pageNum - 1, pageMovementDirection: 'backward-movement' });\n                                    }}> Before </button>\n                                }\n                                {this.state.pageNum < 4\n                                    ?\n                                    <button onClick={() => {\n                                        this.setState({ pageNum: this.state.pageNum + 1, pageMovementDirection: 'forward-movement' });\n                                    }}> Next </button>\n                                    :\n                                    <button onClick={async () => {\n                                        try {\n                                            const offerData = {\n                                                taskId: this.props.match.params.id,\n                                                ...this.props.offerDetail.offerData\n                                            }\n                                            const result = await reqMakeOffer(this.props.user.email, offerData);\n                                            if (result.status === 200) {\n                                                alert('Succeed to make an offer!');\n                                            }\n                                        } catch (e) {\n                                            alert('Failed to make an offer!');\n                                        }\n\n                                    }}> Submit offer </button>\n                                }\n                            </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\nexport default connect(state => ({ user: state.user, offerDetail: state.offerDetail }), { checkUser })(withRouter(BlurBackgroundHoc(MakeAnOffer)));"]},"metadata":{},"sourceType":"module"}