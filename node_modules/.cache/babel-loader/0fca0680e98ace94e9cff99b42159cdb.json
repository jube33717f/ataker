{"ast":null,"code":"var _jsxFileName = \"/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/browse-tasks/browse-tasks-right/map-box/map-box.js\";\nimport React, { Component } from \"react\";\nimport { GoogleApiWrapper, InfoWindow, Marker, Geocoder } from 'google-maps-react';\nimport CurrentLocation from './map';\nimport markerIcon from \"../../../../assets/markerIcon.png\";\nimport \"./map-box.scss\";\nimport { connect } from 'react-redux';\nimport { changeDistance, changePrice, changeLocation } from '../../redux/actions'; // TODO @JUbi\n// const mapStyles = {\n//   map: {\n//     width: '80%',\n//     height: '100%'\n//   }\n// };\n// const infoStyles = {\n//   info:{\n//     // margin:0 auto,\n//     opacity:'0.85'\n//   }\n// }\n\nexport class MapBox extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.onMarkerClick = (props, marker, e) => this.setState({\n      selectedPlace: props,\n      activeMarker: marker,\n      showingInfoWindow: true\n    });\n\n    this.onClose = props => {\n      if (this.state.showingInfoWindow) {\n        this.setState({\n          showingInfoWindow: false,\n          activeMarker: null\n        });\n      }\n    };\n\n    this.state = {\n      markers: [false, false, false],\n      showingInfoWindow: false,\n      //Hides or the shows the infoWindow\n      activeMarker: {},\n      //Shows the active marker upon click\n      selectedPlace: {},\n      //Shows the infoWindow to the selected place upon a marker\n      changed: false,\n      zoomValue: ''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(prevState,';;;',prevState)\n    if (prevProps.locations !== this.props.locations) {\n      console.log(\"changed\");\n      this.forceUpdate();\n    }\n\n    if (prevProps.distance !== this.props.distance) {\n      //calculate zoom \n      console.log('distance', this.props.distance);\n      let l = document.querySelector('.mapbox').clientWidth; //px\n\n      console.log(l);\n      let dipx;\n\n      if (window.screen.deviceXDPI) {\n        dipx = window.screen.deviceXDPI;\n      } else {\n        dipx = 100;\n      }\n\n      console.log(dipx); //l=l*25.4/dipx/1000//m\n      //console.log(l)\n\n      let scale = this.props.distance * 1000 / (l * 25.4 / dipx / 1000);\n      console.log(scale);\n\n      if (scale > 591657550.5) {\n        this.setState({\n          zoomValue: 1\n        });\n        return;\n      }\n\n      if (scale > 295828775.3) {\n        this.setState({\n          zoomValue: 2\n        });\n        return;\n      }\n\n      if (scale > 147914387.6) {\n        this.setState({\n          zoomValue: 3\n        });\n        return;\n      }\n\n      if (scale > 73957193.82) {\n        this.setState({\n          zoomValue: 4\n        });\n        return;\n      }\n\n      if (scale > 36978596.91) {\n        this.setState({\n          zoomValue: 5\n        });\n        return;\n      }\n\n      if (scale > 18489298.45) {\n        this.setState({\n          zoomValue: 6\n        });\n        return;\n      }\n\n      if (scale > 9244649.227) {\n        this.setState({\n          zoomValue: 7\n        });\n        return;\n      }\n\n      if (scale > 4622324.614) {\n        this.setState({\n          zoomValue: 8\n        });\n        return;\n      }\n\n      if (scale > 2311162.307) {\n        this.setState({\n          zoomValue: 9\n        });\n        return;\n      }\n\n      if (scale > 1155581.153) {\n        this.setState({\n          zoomValue: 10\n        });\n        return;\n      }\n\n      if (scale > 577790.5767) {\n        this.setState({\n          zoomValue: 11\n        });\n        return;\n      }\n\n      if (scale > 288895.2884) {\n        this.setState({\n          zoomValue: 12\n        });\n        return;\n      }\n\n      if (scale > 144447.6442) {\n        this.setState({\n          zoomValue: 13\n        });\n        return;\n      }\n\n      if (scale > 72223.8220) {\n        this.setState({\n          zoomValue: 14\n        });\n        return;\n      }\n\n      if (scale > 36111.9110) {\n        this.setState({\n          zoomValue: 15\n        });\n        return;\n      }\n\n      if (scale > 18055.95552) {\n        this.setState({\n          zoomValue: 16\n        });\n        return;\n      }\n\n      if (scale > 9027.977761) {\n        this.setState({\n          zoomValue: 17\n        });\n        return;\n      }\n\n      if (scale > 4513.988880) {\n        this.setState({\n          zoomValue: 18\n        });\n        return;\n      }\n\n      if (scale > 2256.994440) {\n        this.setState({\n          zoomValue: 19\n        });\n        return;\n      }\n\n      if (scale > 1128.497220) {\n        this.setState({\n          zoomValue: 20\n        });\n        return;\n      }\n    }\n  }\n\n  render() {\n    // const infoStyle = Object.assign({}, infoStyles.info);\n    //const {location}=this.props;\n    console.log(this.props.locations);\n    return React.createElement(\"div\", {\n      className: \"mapbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(CurrentLocation, Object.assign({\n      centerAroundCurrentLocation: true,\n      google: this.props.google\n    }, this.props, this.state.zoomValue, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), this.props.locations === '' ? React.createElement(Marker, {\n      name: 'current location',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }) : React.createElement(Marker, {\n      address: this.props.locations,\n      name: 'current location',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Marker //place_id={this.props.locations}\n    , {\n      position: {\n        lat: -33.918551,\n        lng: 151.219999\n      },\n      onClick: this.onMarkerClick,\n      name: 'Prenuptial agreement',\n      time: 'Due in 1 day',\n      poster: 'Posted by Piyush S. 13 mins ago',\n      price: '$80',\n      profilephoto: 'https://pbs.twimg.com/profile_images/1036730403514736650/PCRxFiEt_400x400.jpg',\n      icon: markerIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.selectedPlace.profilephoto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__earn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.state.selectedPlace.price))), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, this.state.selectedPlace.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, this.state.selectedPlace.time), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, this.state.selectedPlace.poster), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"View Task\")))), React.createElement(Marker, {\n      position: {\n        lat: -33.900128,\n        lng: 151.224562\n      },\n      onClick: this.onMarkerClick,\n      name: 'Wall mount 65 inch TV',\n      price: '$50',\n      time: 'Due in 6 hours',\n      poster: 'post by Purushi,21 hours ago',\n      profilephoto: 'https://pbs.twimg.com/media/Dyg-PPzXcAAY5Wv?format=jpg&name=small',\n      icon: markerIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.selectedPlace.profilephoto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__earn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.state.selectedPlace.price))), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, this.state.selectedPlace.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, this.state.selectedPlace.time), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, this.state.selectedPlace.poster), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"View Task\")))), React.createElement(Marker, {\n      className: \"mapbox__maker\" //address={[{long_name:\"Kensington\",short_name:\"Kensington\"},{long_name:\"Randwick City Council\",short_name:\"Randwick\"},{long_name:\"New South Wales\",short_name:\"NSW\"},{long_name:\"Australia\",short_name:\"AU\"},{long_name:\"2033\",short_name:\"2033\"}]}\n      ,\n      position: {\n        lat: -33.912605,\n        lng: 151.235999\n      },\n      onClick: this.onMarkerClick,\n      name: 'Tree looper with tree mulcher',\n      price: '$140',\n      time: 'Due 12 hours ago',\n      poster: 'post by papa H,21 hours ago',\n      profilephoto: 'https://pbs.twimg.com/media/Dyg6-4xWoAEUNut?format=jpg&name=small',\n      icon: markerIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(InfoWindow, {\n      marker: this.state.activeMarker,\n      visible: this.state.showingInfoWindow,\n      onClose: this.onClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.selectedPlace.profilephoto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--top__earn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"EARN\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, this.state.selectedPlace.price))), React.createElement(\"div\", {\n      className: \"mapbox--infoWindow--bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, this.state.selectedPlace.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, this.state.selectedPlace.time), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, this.state.selectedPlace.poster), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"View Task\"))))));\n  }\n\n} // GoogleApiWrapper({\n//   apiKey: 'AIzaSyDy7fG8VcN_upR7UZ7lC63h7cVbVwYu558'\n// })(MapBox);\n\nfunction mapStateToProps(state) {\n  return {\n    locations: state.locations.locations,\n    distance: state.distance.distance,\n    price: state.price.price\n  };\n}\n\nGoogleApiWrapper({\n  apiKey: 'AIzaSyDy7fG8VcN_upR7UZ7lC63h7cVbVwYu558'\n})(MapBox);\nexport default connect(mapStateToProps, {\n  changeDistance,\n  changePrice,\n  changeLocation\n})(MapBox); // export default","map":{"version":3,"sources":["/Users/jubi/fullStack/groupProject/0322/xyz.frontend/src/pages/browse-tasks/browse-tasks-right/map-box/map-box.js"],"names":["React","Component","GoogleApiWrapper","InfoWindow","Marker","Geocoder","CurrentLocation","markerIcon","connect","changeDistance","changePrice","changeLocation","MapBox","constructor","props","onMarkerClick","marker","e","setState","selectedPlace","activeMarker","showingInfoWindow","onClose","state","markers","changed","zoomValue","componentDidUpdate","prevProps","prevState","locations","console","log","forceUpdate","distance","l","document","querySelector","clientWidth","dipx","window","screen","deviceXDPI","scale","render","google","lat","lng","profilephoto","price","name","time","poster","mapStateToProps","apiKey"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { GoogleApiWrapper, InfoWindow, Marker,Geocoder  } from 'google-maps-react';\nimport CurrentLocation from './map';\nimport markerIcon  from \"../../../../assets/markerIcon.png\";\nimport \"./map-box.scss\";\nimport { connect } from 'react-redux';\nimport { changeDistance,changePrice,changeLocation } from '../../redux/actions'\n// TODO @JUbi\n// const mapStyles = {\n//   map: {\n    \n//     width: '80%',\n//     height: '100%'\n//   }\n// };\n// const infoStyles = {\n//   info:{\n//     // margin:0 auto,\n    \n//     opacity:'0.85'\n//   }\n// }\n\nexport class MapBox extends Component {\n  constructor(props){\n      super(props);\n      this.state = {\n        markers:[false,false,false],\n        showingInfoWindow: false,  //Hides or the shows the infoWindow\n        activeMarker: {},          //Shows the active marker upon click\n        selectedPlace: {} ,         //Shows the infoWindow to the selected place upon a marker\n        changed:false,\n        zoomValue:''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    // console.log(prevState,';;;',prevState)\n    if(prevProps.locations!==this.props.locations){\n        console.log(\"changed\")\n        this.forceUpdate();\n    }\n    if(prevProps.distance!==this.props.distance){//calculate zoom \n        console.log('distance',this.props.distance)\n        let l=document.querySelector('.mapbox').clientWidth;//px\n        console.log(l)\n        let dipx;\n        if(window.screen.deviceXDPI){\n            dipx=window.screen.deviceXDPI;\n        }else{\n            dipx=100;\n        }\n        \n        console.log(dipx)\n        //l=l*25.4/dipx/1000//m\n        //console.log(l)\n        let scale=this.props.distance*1000/(l*25.4/dipx/1000);\n        console.log(scale)\n        if(scale>591657550.5){\n            this.setState({zoomValue:1});\n            return;\n        }\n        if(scale>295828775.3){\n            this.setState({zoomValue:2});\n            return;\n        }\n        if(scale>147914387.6){\n            this.setState({zoomValue:3});\n            return;\n        }\n        if(scale>73957193.82){\n            this.setState({zoomValue:4});\n            return;\n        }\n        if(scale>36978596.91){\n            this.setState({zoomValue:5});\n            return;\n        }\n        if(scale>18489298.45){\n            this.setState({zoomValue:6});\n            return;\n        }\n        if(scale>9244649.227){\n            this.setState({zoomValue:7});\n            return;\n        }\n        if(scale>4622324.614){\n            this.setState({zoomValue:8});\n            return;\n        }\n        if(scale>2311162.307){\n            this.setState({zoomValue:9});\n            return;\n        }\n        if(scale>1155581.153){\n            this.setState({zoomValue:10});\n            return;\n        }\n        if(scale>577790.5767){\n            this.setState({zoomValue:11});\n            return;\n        }\n        if(scale>288895.2884){\n            this.setState({zoomValue:12});\n            return;\n        }\n        if(scale>144447.6442){\n            this.setState({zoomValue:13});\n            return;\n        }\n        if(scale>72223.8220){\n            this.setState({zoomValue:14});\n            return;\n        }\n        if(scale>36111.9110){\n            this.setState({zoomValue:15});\n            return;\n        }\n        if(scale>18055.95552){\n            this.setState({zoomValue:16});\n            return;\n        }\n        if(scale>9027.977761){\n            this.setState({zoomValue:17});\n            return;\n        }\n        if(scale>4513.988880){\n            this.setState({zoomValue:18});\n            return;\n        }\n        if(scale>2256.994440){\n            this.setState({zoomValue:19});\n            return;\n        }\n        if(scale>1128.497220){\n            this.setState({zoomValue:20});\n            return;\n        }\n\n\n      }\n  }\n  onMarkerClick = (props, marker, e) =>\n  this.setState({\n    selectedPlace: props,\n    activeMarker: marker,\n    showingInfoWindow: true\n  });\n\n  onClose = props => {\n    if (this.state.showingInfoWindow) {\n      this.setState({\n        showingInfoWindow: false,\n        activeMarker: null\n      });\n    }\n  };\n  \n  render() {\n    // const infoStyle = Object.assign({}, infoStyles.info);\n    //const {location}=this.props;\n\n    console.log(this.props.locations)\n    \n    return (\n      <div className=\"mapbox\">\n        <CurrentLocation\n           \n          centerAroundCurrentLocation\n          google={this.props.google}\n          {...this.props }\n          {...this.state.zoomValue}\n          \n        >\n          {/* <Marker  address={this.props.locations} name={'current location'} /> */}\n          {this.props.locations===''?<Marker  name={'current location'} />:<Marker  address={this.props.locations} name={'current location'} />}\n          \n          <Marker\n              //place_id={this.props.locations}\n              position={{ lat: -33.918551, lng:  151.219999 }}\n              onClick={this.onMarkerClick}\n              name={'Prenuptial agreement'} \n              time={'Due in 1 day'}\n              poster={'Posted by Piyush S. 13 mins ago'}\n              price={'$80'}\n              profilephoto={'https://pbs.twimg.com/profile_images/1036730403514736650/PCRxFiEt_400x400.jpg'}\n              icon={markerIcon}\n          />\n          <InfoWindow\n            marker={this.state.activeMarker}\n            visible={this.state.showingInfoWindow}\n            onClose={this.onClose}\n          >\n            \n            <div  className=\"mapbox--infoWindow\">\n              <div className=\"mapbox--infoWindow--top\">\n                <div className=\"mapbox--infoWindow--top__img\">\n                  <img src={this.state.selectedPlace.profilephoto}/>\n                </div>\n                <div className=\"mapbox--infoWindow--top__earn\">\n                <span>{this.state.selectedPlace.price}</span>\n                </div>\n              </div>\n              <div className=\"mapbox--infoWindow--bottom\">\n                <h4>{this.state.selectedPlace.name}</h4>\n                <p>{this.state.selectedPlace.time}</p>\n                <span>{this.state.selectedPlace.poster}</span>\n                <button>View Task</button>\n              </div>\n            </div>\n          </InfoWindow>\n          \n          <Marker\n              position={{ lat: -33.900128, lng:  151.224562 }}\n              onClick={this.onMarkerClick}\n              name={'Wall mount 65 inch TV'} \n              price={'$50'}\n              time={'Due in 6 hours'}\n              poster={'post by Purushi,21 hours ago'}\n              profilephoto={'https://pbs.twimg.com/media/Dyg-PPzXcAAY5Wv?format=jpg&name=small'}\n              icon={markerIcon}\n          />\n          <InfoWindow\n            marker={this.state.activeMarker}\n            visible={this.state.showingInfoWindow}\n            onClose={this.onClose}\n          >\n            \n            <div  className=\"mapbox--infoWindow\">\n              <div className=\"mapbox--infoWindow--top\">\n                <div className=\"mapbox--infoWindow--top__img\">\n                  <img src={this.state.selectedPlace.profilephoto}/>\n                </div>\n                <div className=\"mapbox--infoWindow--top__earn\">\n                <span>{this.state.selectedPlace.price}</span>\n                </div>\n              </div>\n              <div className=\"mapbox--infoWindow--bottom\">\n                <h4>{this.state.selectedPlace.name}</h4>\n                <p>{this.state.selectedPlace.time}</p>\n                <span>{this.state.selectedPlace.poster}</span>\n                <button>View Task</button>\n              </div>\n            </div>\n          </InfoWindow>\n          <Marker\n              className=\"mapbox__maker\"\n              //address={[{long_name:\"Kensington\",short_name:\"Kensington\"},{long_name:\"Randwick City Council\",short_name:\"Randwick\"},{long_name:\"New South Wales\",short_name:\"NSW\"},{long_name:\"Australia\",short_name:\"AU\"},{long_name:\"2033\",short_name:\"2033\"}]}\n              position={{ lat: -33.912605, lng:  151.235999 }}\n              onClick={this.onMarkerClick}\n              name={'Tree looper with tree mulcher'} \n              price={'$140'}\n              time={'Due 12 hours ago'}\n              poster={'post by papa H,21 hours ago'}\n              profilephoto={'https://pbs.twimg.com/media/Dyg6-4xWoAEUNut?format=jpg&name=small'}\n              icon={markerIcon}\n          />\n          {/* //-33.900128, 151.224562 */}\n          <InfoWindow\n            \n            marker={this.state.activeMarker}\n            visible={this.state.showingInfoWindow}\n            onClose={this.onClose}\n          >\n            <div  className=\"mapbox--infoWindow\">\n              <div className=\"mapbox--infoWindow--top\">\n                <div className=\"mapbox--infoWindow--top__img\">\n                  <img src={this.state.selectedPlace.profilephoto}/>\n                </div>\n                <div className=\"mapbox--infoWindow--top__earn\"><p>EARN</p><span>{this.state.selectedPlace.price}</span></div>\n              </div>\n              <div className=\"mapbox--infoWindow--bottom\">\n                <h4>{this.state.selectedPlace.name}</h4>\n                <p>{this.state.selectedPlace.time}</p>\n                <span>{this.state.selectedPlace.poster}</span>\n                <button>View Task</button>\n                </div>\n            </div>\n          </InfoWindow>\n        </CurrentLocation>\n        \n        \n      </div>\n    );\n  }\n}\n\n// GoogleApiWrapper({\n//   apiKey: 'AIzaSyDy7fG8VcN_upR7UZ7lC63h7cVbVwYu558'\n// })(MapBox);\n\nfunction mapStateToProps(state) {\n    return {\n      locations: state.locations.locations,\n      distance: state.distance.distance,\n      price: state.price.price,\n    }\n}\n  \nGoogleApiWrapper({\n    apiKey: 'AIzaSyDy7fG8VcN_upR7UZ7lC63h7cVbVwYu558'\n})(MapBox);\nexport default connect(mapStateToProps, {\n    changeDistance,changePrice,changeLocation\n})(MapBox);\n\n// export default "]},"metadata":{},"sourceType":"module"}